lapply(s,function(x) colMeans(x[,1:3],na.rm=T)
lapply(s,function(x) colMeans(x[,1:3],na.rm=T))
lapply(s, function(x) colMeans(x[,1:3],na.rm=T))
x <- rnorm(10)
f1 <- gl(2,5)
f2 <- gl(5,2)
f1
f2
interaction(f1,f2)
str(split(x,list(f1,f2)))
?options
options(error=recover)
read.cvs("noexiste")
options(error=recover)
read.csv("noexiste")
mediacontaminante <- function(directorio="~/Rodrigo/GitHub/Programacion_Actuarial_-3/specdata" , contaminante= "sulfate", id= 1:332){
setwd(directorio)
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
# Media contaminante
mediacontaminante <- function(directorio="~C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata")
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
mediacontaminante <- function(directorio="~C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata",, contaminante= "sulfate", id= 1:332){
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
mediacontaminante <- function(directorio="~ C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata",, contaminante= "sulfate", id= 1:332){
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
mediacontaminante <- function(directorio="~\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata",, contaminante= "sulfate", id= 1:332){
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
mediacontaminante <- function(directorio="~\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata", contaminante= "sulfate", id= 1:332){
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
ediacontaminante <- function(directorio="~\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata", contaminante= "sulfate", id= 1:332){
setwd(directorio)
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
mediacontaminante <- function(directorio="~\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\specdata", contaminante= "sulfate", id = 1:332){
setwd(directorio)
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
mediacontaminante <- function(directorio="~\Marco Antonio\GitHub\Programacion_Actuarial_III\specdata", contaminante= "sulfate", id = 1:332){
setwd(directorio)
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (c
# Media contaminante
mediacontaminante <- function(directorio="~\Marco Antonio\GitHub\Programacion_Actuarial_III\specdata", contaminante= "sulfate", id = 1:332){
setwd(directorio)
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in 1:332) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
setwd("C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III/specdata")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("specdata","sulfate",70:72)
setwd("C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III/specdata")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("specdata","sulfate",70:72)
setwd("C:/Users/Marco Antonio/Documents/GitHub/Programacion_Actuarial_III/specdata")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("specdata","sulfate",70:72)
setwd("C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\caso1")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("specdata","sulfate",70:72)
setwd("C:\Users\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\caso1\specdata")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("specdata","sulfate",70:72)
setwd("C:\U\Marco Antonio\Documents\GitHub\Programacion_Actuarial_III\caso1\specdata")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("specdata","sulfate",70:72)
?cbind
setwd("C:/Users/Marco Antonio/Documents/GitHub/Programacion_Actuarial_III/caso1/specdataa/specdata")
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
x2 <- vector("numeric")
for (i in id){
if (i>=1 && i<10){
id2[i] <- paste("00",i,".csv", sep="") }
else {
if (i>=10 && i<100){
id2[i] <- paste("0",i,".csv", sep="") }
else {
id2[i] <- paste(i,".csv", sep="")
}
}
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
x2 <- rbind(x2,z)
medias <- mean(x2,na.rm=TRUE)
}
medias
}
mediacontaminante("sulfate",70:72)
mediacontaminante(,"sulfate",70:72)
mediacontaminante("specdata","sulfate",70:72)
mediacontaminante("specdata","sulfate",50:70)
?rbind
?complete.cases
?nrow
corr("specdata",4)
setwd("C:/Users/Marco Antonio/Documents/GitHub/Programacion_Actuarial_III/caso1/specdataa/specdata")
corr <- function (directorio, horizonte = 0) {
x <- vector("numeric")
y <- vector("numeric")
for(i in 1:332){
#lectura de Datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
completos <- complete.cases(tabla)
z <- tabla[completos, ]
nf <- nrow(z)
#restriccion de horizonte
if (nf>=horizonte) {
y <-  cor(z[2],z[3])
y2<-as.vector(y)
x <- c(x,y2)
}
}
x
}
corr("specdata",45)
?cbind
?nobs
setwd("C:/Users/Marco Antonio/Documents/GitHub/Programacion_Actuarial_III/caso1/specdataa/specdata")
completos <- function(directorio, id=1:332){
x <- vector("numeric")
for(i in id) {
#Lectura de Datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Casos completos
y <- complete.cases(tabla)
z <- tabla[y, ]
nf <- nrow(z)
x <- c(x,nf)
}
table1 <- data.frame(id,nobs=x)
table1
}
completos(,1:110)
?tabla
